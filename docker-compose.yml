version: "3"
services:
  movie:
    build:
      context: /movie
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    networks:
      - mysql-net
    depends_on:
      - user
      - mysqldb

  movie-recommendation:
    build:
      context: /movie-recommendation
      dockerfile: Dockerfile
    ports:
      - "8082:8082"
    networks:
      - mysql-net
    depends_on:
      - user
      - mysqldb


  user:
    build:
      context: /user
      dockerfile: Dockerfile
    ports:
      - "8081:8081"
    networks:
      - mysql-net
    depends_on:
      - mysqldb


  mysqldb:
    image: mysql:latest
    networks:
      - mysql-net

    environment:
      - MYSQL_DATABASE=filmRecommendationDb
      - MYSQL_ROOT_PASSWORD=root

networks:
  mysql-net:


